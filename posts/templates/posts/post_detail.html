<!-- templates/posts/post_detail.html -->
{% extends 'base.html' %}

{% block title %}{{ post.title }} - Mon Réseau Social{% endblock %}

{% block content %}
    <h2>{{ post.title }}</h2>
    <p>Par {{ post.author.username }} dans <a href="{% url 'community_detail' pk=post.community.pk %}">{{ post.community.name }}</a></p>
    {% if post.image %}
        <img src="{{ post.image.url }}" alt="Image du post">
    {% endif %}
    <p>{{ post.content }}</p>
    <p>Score : {{ post.score }}</p>
    <p>
        <form method="post" action="{% url 'vote' post_id=post.pk vote_type=1 %}">
            {% csrf_token %}
            <button type="submit">Upvote</button>
        </form>
        <form method="post" action="{% url 'vote' post_id=post.pk vote_type=-1 %}">
            {% csrf_token %}
            <button type="submit">Downvote</button>
        </form>
    </p>

    <!-- Affichage des commentaires (si vous les implémentez) -->
    <!--
    <h3>Commentaires</h3>
    {% for comment in post.comments.all %}
        <div class="comment">
            <p><strong>{{ comment.author.username }}</strong> a dit :</p>
            <p>{{ comment.content }}</p>
        </div>
    {% empty %}
        <p>Aucun commentaire pour l'instant.</p>
    {% endfor %}
    -->
{% endblock %}
